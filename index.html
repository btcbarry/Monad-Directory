<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monad Directory</title>
    <style>
        body {
            background-color: #111;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            background: linear-gradient(
                to right,
                #e040fb 20%,
                #00e5ff 30%,
                #e040fb 70%,
                #00e5ff 80%
            );
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            font-size: 48px;
            margin-bottom: 10px;
            animation: shine 10s linear infinite;
            background-size: 200% auto;
        }

        @keyframes shine {
            to {
                background-position: 200% center;
            }
        }

        .beta {
            font-size: 16px;
            vertical-align: super;
        }

        .subtitle {
            text-align: center;
            color: #fff;
            margin-bottom: 40px;
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
            padding: 20px 0;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
        }

        nav a:hover {
            color: #e040fb;
        }

        .search-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .search-input {
            width: 100%;
            padding: 12px;
            background: #000;
            border: 1px solid #333;
            border-radius: 5px;
            color: white;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .filter-controls {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
        }

        select {
            padding: 8px 16px;
            background: #000;
            border: 1px solid #333;
            border-radius: 5px;
            color: white;
            min-width: 150px;
            font-size: 14px;
            cursor: pointer;
        }

        .sort-button {
            background: #000;
            border: 1px solid #333;
            border-radius: 5px;
            color: white;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 14px;
            width: 40px;
        }

        .sort-button:hover {
            background: #222;
        }

        .project-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
        }

        .project-header {
            display: grid;
            grid-template-columns: 1fr auto auto;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .project-title {
            font-size: 24px;
            color: white;
            margin: 0;
            grid-column: 1;
        }

        .devnet-badge {
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            grid-column: 2;
        }

        .devnet-badge.on-devnet {
            background: #4CAF50;
            color: white;
        }

        .devnet-badge.not-on-devnet {
            background: #f44336;
            color: white;
        }

        .section-title {
            color: white;
            margin-bottom: 8px;
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .description-section, 
        .notes-section, 
        .contact-section,
        .contract-section {
            margin-bottom: 20px;
        }

        .description-section p,
        .notes-section p,
        .contact-section p,
        .contract-section p {
            font-size: 14px;
            color: #888;
            margin: 0;
            line-height: 1.5;
        }

        .contact-section p {
            color: #3498db;
        }

        .contact-value::before {
            content: '@';
        }

        .contract-section {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            border-radius: 5px;
            word-break: break-all;
        }

        .visit-website {
            display: inline-block;
            background: #e040fb;
            color: white;
            padding: 8px 16px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            grid-column: 3;
        }

        .visit-website:hover {
            background: #d040e9;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 36px;
            }
            
            .filter-controls {
                flex-direction: column;
            }
            
            select, .sort-button {
                width: 100%;
            }

            .project-header {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .project-title,
            .devnet-badge,
            .visit-website {
                grid-column: 1;
            }
        }
    </style>
<body>
    <div class="container">
        <h1>Monad Directory<span class="beta">beta</span></h1>
        <p class="subtitle">A comprehensive directory of current projects deployed on Monad Devnet.</p>
        
        <nav>
            <a href="index.html">Home</a>
            <a href="submit.html">Submit a Project</a>
            <a href="update.html">Update Project</a>
        </nav>

        <div class="search-section">
            <input type="text" class="search-input" placeholder="Search projects..." id="searchInput">
            <div class="filter-controls">
                <select id="projectFilter">
                    <option value="all">✓ All Projects</option>
                    <option value="onDevnet">On Devnet</option>
                    <option value="notOnDevnet">Not on Devnet</option>
                </select>
                <button id="sortButton" class="sort-button">↑</button>
            </div>
        </div>

        <div id="projectGrid">
            <!-- Projects will be dynamically loaded here -->
        </div>
    </div>

    <script>
        // Your existing projects data array stays the same
        const projectsData = [
            // ... your existing projects array ...
        ];

        let projects = [];
        let sortAscending = true;

        function loadProjects() {
            projects = projectsData.map(project => ({
                ...project,
                isOnDevnet: project.isOnDevnet === null ? false : project.isOnDevnet
            }));
            filterAndSortProjects();
        }

        function filterAndSortProjects() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const filterValue = document.getElementById('projectFilter').value;
            
            let filteredProjects = projects.filter(project => {
                const matchesSearch = project.title.toLowerCase().includes(searchTerm) || 
                                    (project.description && project.description.toLowerCase().includes(searchTerm)) ||
                                    (project.notes && project.notes.toLowerCase().includes(searchTerm));
                
                switch(filterValue) {
                    case 'onDevnet':
                        return matchesSearch && project.isOnDevnet === true;
                    case 'notOnDevnet':
                        return matchesSearch && project.isOnDevnet === false;
                    default: // 'all'
                        return matchesSearch;
                }
            });

            filteredProjects.sort((a, b) => {
                const comparison = a.title.localeCompare(b.title);
                return sortAscending ? comparison : -comparison;
            });

            displayProjects(filteredProjects);
        }

        function displayProjects(projectsToDisplay) {
            const projectGrid = document.getElementById('projectGrid');
            projectGrid.innerHTML = '';
            
            if (projectsToDisplay.length === 0) {
                projectGrid.innerHTML = '<p style="text-align: center; color: #888;">No projects found matching your criteria.</p>';
                return;
            }
            
            projectsToDisplay.forEach(project => {
                const projectCard = document.createElement('div');
                projectCard.className = 'project-card';
                
                const devnetStatus = project.isOnDevnet ? 'On Devnet' : 'Not on Devnet';
                const devnetClass = project.isOnDevnet ? 'on-devnet' : 'not-on-devnet';
                
                const contractAddresses = project.relatedContractAddresses && project.relatedContractAddresses.length > 0 
                    ? `<div class="contract-section">
                        <div class="section-title">CONTRACT ADDRESSES</div>
                        <p>${project.relatedContractAddresses.map(addr => 
                            `<span class="contract-address">${addr}</span>`
                        ).join('<br>')}</p>
                       </div>`
                    : '';
                
                const contacts = Array.isArray(project.contact) 
                    ? project.contact.map(c => `<span class="contact-value">${c}</span>`).join(', ')
                    : project.contact ? `<span class="contact-value">${project.contact}</span>` 
                    : 'Not provided';
                
                projectCard.innerHTML = `
                    <div class="project-header">
                        <h2 class="project-title">${project.title}</h2>
                        <span class="devnet-badge ${devnetClass}">${devnetStatus}</span>
                        <a href="${project.website}" target="_blank" class="visit-website">Visit Website</a>
                    </div>
                    <div class="description-section">
                        <div class="section-title">DESCRIPTION</div>
                        <p>${project.description || 'No description provided.'}</p>
                    </div>
                    ${project.notes ? `
                    <div class="notes-section">
                        <div class="section-title">NOTES</div>
                        <p>${project.notes}</p>
                    </div>
                    ` : ''}
                    <div class="contact-section">
                        <div class="section-title">CONTACT</div>
                        <p>${contacts}</p>
                    </div>
                    ${contractAddresses}
                `;
                
                projectGrid.appendChild(projectCard);
            });
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        document.getElementById('searchInput').addEventListener('input', 
            debounce(() => filterAndSortProjects(), 300)
        );
        document.getElementById('projectFilter').addEventListener('change', filterAndSortProjects);
        document.getElementById('sortButton').addEventListener('click', () => {
            sortAscending = !sortAscending;
            document.getElementById('sortButton').textContent = sortAscending ? '↑' : '↓';
            filterAndSortProjects();
        });

        loadProjects();
    </script>
</body>
</html>
</head>
