<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monad Directory</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
/ Your existing styles remain exactly the same /
body {
background-color: #111;
color: white;
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
margin: 0;
padding: 0;
}
.container {
max-width: 1200px;
margin: 0 auto;
padding: 20px;
text-align: center;
}
h1 {
background: linear-gradient(
to right,
#00e5ff 0%,
#c012e9 50%,
#00e5ff 100%
);
-webkit-background-clip: text;
background-clip: text;
-webkit-text-fill-color: transparent;
font-size: 56px;
margin: 0 auto 5px auto;
animation: shine 2s linear infinite;
background-size: 200% auto;
position: relative;
display: inline-block;
text-align: center;
width: 100%;
}
@keyframes shine {
to {
background-position: -200% center;
}
}
.beta {
font-size: 11px;
position: relative;
top: 15px;
left: -4px;
display: inline-block;
color: white;
-webkit-text-fill-color: white;
}
.subtitle {
text-align: center;
color: #fff;
margin-bottom: 40px;
}
nav {
display: flex;
justify-content: center;
gap: 30px;
margin: 40px 0;
border-top: 1px solid #333;
border-bottom: 1px solid #333;
padding: 25px 0;
}
nav a {
color: white;
text-decoration: none;
font-weight: 600;
font-size: 18px;
padding: 8px 16px;
transition: color 0.2s ease;
}
nav a:hover {
color: #e040fb;
}
.search-section {
position: relative;
background: rgba(255, 255, 255, 0.05);
border-radius: 10px;
padding: 16px 20px;
margin-bottom: 40px;
max-width: 500px;
margin-left: auto;
margin-right: auto;
}
.search-input {
width: 100%;
padding: 8px 12px;
background: #000;
border: 1px solid #333;
border-radius: 5px;
color: white;
font-size: 14px;
height: 38px;
box-sizing: border-box;
margin-bottom: 12px;
}
.filter-controls {
display: flex;
justify-content: flex-start;
gap: 4px;
align-items: center;
padding-left: 0;
}
select {
background: #000;
border: 1px solid #333;
border-radius: 5px;
color: white;
font-size: 14px;
height: 38px;
padding: 0 16px;
cursor: pointer;
width: 140px;
margin-right: 8px;
appearance: none;
-webkit-appearance: none;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
background-repeat: no-repeat;
background-position: right 12px center;
}
.sort-button {
background: transparent;
border: none;
color: white;
width: 38px;
height: 38px;
font-size: 18px;
font-weight: 900;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
transition: color 0.2s ease;
padding: 0;
margin-right: 220px;
margin-left: -8px;
margin-top: 1px;
}
.sort-button:hover {
color: #e040fb;
}
.project-card {
background: rgba(255, 255, 255, 0.05);
border: 1px solid #333;
border-radius: 10px;
padding: 24px;
transition: transform 0.2s ease;
position: relative;
height: 340px;
display: flex;
flex-direction: column;
gap: 16px;
}
.project-card:hover {
transform: translateY(-2px);
border-color: #444;
}
.projects-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
gap: 24px;
max-width: 1200px;
margin: 0 auto;
padding: 20px;
}
/ Add all your other existing styles here /
</style>
</head>
<body>
<div class="container">
<h1>Monad Directory<span class="beta">beta</span></h1>
<p class="subtitle">A comprehensive directory of current projects deployed on Monad Devnet.</p>
<nav>
<a href="./index.html">Home</a>
<a href="./submit.html">Submit a Project for Listing</a>
</nav>
<div class="search-section">
<input type="text" class="search-input" placeholder="Search projects..." id="searchInput">
<div class="filter-controls">
<select id="projectFilter">
<option value="all">All Projects</option>
<option value="onDevnet">On Devnet</option>
<option value="notOnDevnet">Not Yet on Devnet</option>
</select>
<button class="sort-button">↑</button>
</div>
<div class="timestamp-container">Last updated:&nbsp;<span id="updateTimestamp">...</span></div>
</div>
<div class="projects-grid" id="projectsGrid">
<!-- Projects will be dynamically inserted here -->
</div>
</div>
<script>
// Debug mode flag
const DEBUG = true;
// Global projects array
let globalProjects = [];
// Updated DOMContentLoaded event listener with simplified fetch
document.addEventListener('DOMContentLoaded', async () => {
try {
// Show loading state
const projectsGrid = document.getElementById('projectsGrid');
projectsGrid.innerHTML = <div style="text-align: center; padding: 40px; grid-column: 1/-1;"> <p style="color: #e040fb;">Loading projects...</p> </div> ;
let response;
let source;
console.log('Fetching projects...');
try {
response = await fetch('/projects.json');
source = 'Vercel';
} catch (error) {
console.error('Fetch failed:', error);
throw new Error('Could not load projects file');
}
if (!response.ok) {
throw new Error(Failed to load projects (Status: ${response.status}));
}
console.log(Successfully fetched from ${source});
let projects = await response.json();
globalProjects = projects; // Store globally
// Validate data
if (!Array.isArray(projects)) {
throw new Error('Invalid projects data format');
}
console.log(Loaded ${projects.length} projects);
// Sort projects alphabetically by default
projects = projects.sort((a, b) => {
const titleA = a.title.toLowerCase();
const titleB = b.title.toLowerCase();
return titleA.localeCompare(titleB);
});
// Setup event listeners
const searchInput = document.getElementById('searchInput');
const projectFilter = document.getElementById('projectFilter');
const sortButton = document.querySelector('.sort-button');
if (searchInput && projectFilter) {
// Remove any existing listeners
searchInput.replaceWith(searchInput.cloneNode(true));
projectFilter.replaceWith(projectFilter.cloneNode(true));
// Get fresh references
const newSearchInput = document.getElementById('searchInput');
const newProjectFilter = document.getElementById('projectFilter');
// Add new listeners
newSearchInput.addEventListener('input', () => filterProjects());
newProjectFilter.addEventListener('change', () => filterProjects());
if (sortButton) {
sortButton.addEventListener('click', () => {
const isAscending = sortButton.textContent === '↑';
sortButton.textContent = isAscending ? '↓' : '↑';
const sortedProjects = [...projects].sort((a, b) => {
const titleA = a.title.toLowerCase();
const titleB = b.title.toLowerCase();
return isAscending
? titleB.localeCompare(titleA)
: titleA.localeCompare(titleB);
});
renderProjects(sortedProjects);
});
}
}
// Render projects
renderProjects(projects);
} catch (error) {
console.error('Error loading projects:', error);
const projectsGrid = document.getElementById('projectsGrid');
projectsGrid.innerHTML = <div style="text-align: center; padding: 40px; grid-column: 1/-1;"> <p style="color: #f44336;">Error loading projects: ${error.message}</p> <p style="color: #888; font-size: 14px; margin-top: 8px;"> Please try refreshing the page. If the problem persists, contact support. </p> <button onclick="location.reload()" style=" background: #e040fb; border: none; color: white; padding: 8px 16px; border-radius: 4px; margin-top: 16px; cursor: pointer; ">Try Again</button> </div> ;
}
});
function renderProjects(projects) {
const projectsGrid = document.getElementById('projectsGrid');
projectsGrid.innerHTML = '';
projects.forEach(project => {
const card = document.createElement('div');
card.className = 'project-card';
const statusClass = project.isOnDevnet ? 'status-on-devnet' : 'status-not-on-devnet';
const statusText = project.isOnDevnet ? 'On Devnet' : 'Not Yet on Devnet';
const descriptionHTML = project.description ? <div class="description-container"> <p class="project-description" data-full-text="${project.description}">${project.description}</p> </div> : '';
const contractsHTML = project.relatedContractAddresses && project.relatedContractAddresses.length > 0
? project.relatedContractAddresses
.slice(0, 3)
.map((address, index) => <div class="contract-container" style="bottom: ${108 + (index * 46)}px;"> <code class="contract-address">${address}</code> <button class="copy-button" data-contract="${address}">Copy</button> </div> ).join('')
: '';
card.innerHTML = <h2 class="project-title">${project.title}</h2> ${descriptionHTML} ${contractsHTML} <a href="${project.website}" target="_blank" rel="noopener noreferrer" class="website-link">Website</a> <div class="${statusClass}">${statusText}</div> ;
const copyButtons = card.querySelectorAll('.copy-button');
copyButtons.forEach(button => {
button.addEventListener('click', () => {
const contractAddress = button.getAttribute('data-contract');
navigator.clipboard.writeText(contractAddress).then(() => {
const originalText = button.textContent;
button.textContent = 'Copied!';
setTimeout(() => {
button.textContent = originalText;
}, 2000);
});
});
});
projectsGrid.appendChild(card);
});
}
function filterProjects(projects = globalProjects) {
const searchTerm = document.getElementById('searchInput').value.toLowerCase();
const filterValue = document.getElementById('projectFilter').value;
const filteredProjects = projects.filter(project => {
const titleMatch = project.title.toLowerCase().includes(searchTerm);
const descriptionMatch = project.description?.toLowerCase().includes(searchTerm);
const filterMatch =
filterValue === 'all' ||
(filterValue === 'onDevnet' && project.isOnDevnet) ||
(filterValue === 'notOnDevnet' && !project.isOnDevnet);
return (titleMatch || descriptionMatch) && filterMatch;
});
renderProjects(filteredProjects);
}
// Update last modified date function
async function updateLastModifiedDate() {
try {
const response = await fetch(
'https://api.github.com/repos/btcbarry/Monad-Directory/commits?path=public/projects.json&page=1&per_page=1'
);
const [lastCommit] = await response.json();
const date = new Date(lastCommit.commit.committer.date);
const formattedDate = ' ' + date.toLocaleDateString('en-US', {
year: 'numeric',
month: 'short',
day: 'numeric'
});
document.getElementById('updateTimestamp').textContent = formattedDate;
} catch (error) {
console.error('Error fetching last update date:', error);
document.getElementById('updateTimestamp').textContent = ' Unknown';
}
}
// Call updateLastModifiedDate when page loads
document.addEventListener('DOMContentLoaded', () => {
updateLastModifiedDate();
});
</script>
</body>
